
apply plugin: 'java-library'
apply plugin: 'com.android.lint'
apply plugin: 'jacoco'

dependencies {
    api 'io.reactivex.rxjava3:rxjava:3.0.4'

    implementation "com.squareup.okhttp3:okhttp:4.7.2"
    implementation 'org.json:json:20200518'

    testImplementation "junit:junit:4.13.1"
    implementation 'org.jetbrains:annotations:19.0.0'
}

lintOptions {
    abortOnError true
    warningsAsErrors true
    htmlReport false
    xmlReport false
    textOutput 'stdout'
    textReport true
    checkAllWarnings true
    enable.addAll([
            'UnknownNullness'
    ])
    disable.addAll([
            'GoogleAppIndexingWarning',
            'OldTargetApi',
            'NewerVersionAvailable'
    ])
}

test {
    finalizedBy jacocoTestReport // report is always generated after tests run
}
jacocoTestReport {
    dependsOn test // tests are required to run before generating the report
}